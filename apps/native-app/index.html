<!--
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Native App</title>

    <style>
      textarea {
        height: 300px;
        width: 600px;
      }

      .chats {
        display: flex;
        justify-content: space-around;
      }
    </style>
  </head>
  <body>
    <textarea id="data">
[{"id":"1","message":"I like RxJs","sender":"Angular"},{"id":"2","message":"I like JSX","sender":"React"}]
  </textarea
    >
    <div class="chats">
      <my-react-chat></my-react-chat>
      <my-angular-chat></my-angular-chat>
    </div>
 
    <script type="module" src="react-chat.js"></script>
    <script type="module" src="angular-chat.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const textArea = document.querySelector('#data');
        const reactChat = document.querySelector('my-react-chat');
        const angularChat = document.querySelector('my-angular-chat');

        function syncChatsWithTextArea() {
          reactChat.setAttribute(
            'messages',
            JSON.stringify(JSON.parse(textArea.value))
          );
          reactChat.messages = JSON.stringify(JSON.parse(textArea.value));
          angularChat.setAttribute(
            'messages',
            JSON.stringify(JSON.parse(textArea.value))
          );
        }

        function handleNewMessage({ detail: newMessage }) {
          const textAreaValue = JSON.parse(textArea.value);
          textArea.value = JSON.stringify([
            ...(textAreaValue ?? []),
            newMessage,
          ]);
          syncChatsWithTextArea();
        }

        syncChatsWithTextArea();

        document.addEventListener('messageSent', handleNewMessage);

        angularChat.addEventListener('messageSent', handleNewMessage);
      });
    </script>
  </body>
</html>

-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Native App</title>
  </head>
  <body>
    <my-hello-world-custom-elements-api name="Hello Minsk JS"></my-hello-world-custom-elements-api>
    <script type="module" src="hello-world-custom-elements-api.js"></script>
  </body>
</html>
